{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://domstol.no/dom/domsavjoerelse/arbeidsversjon/Domsavgjoerelse.schema.json",
  "description": "Schema definisjon av en Domsagjørele",
  "properties": {
    "forsendelse": {
      "$ref": "#/definitions/forsendelse",
      "description": "avsender og mottaker"
    },
    "aktoerer": {
      "description": "Aktører fra domstolen",
      "properties": {
        "dommer": {
          "$ref": "#/definitions/ansattPerson",
          "description": "Dommer på saken"
        },
        "saksbehandler": {
          "$ref": "#/definitions/ansattPerson",
          "description": "Saksbehandler på saken"
        }
      },
      "type": "object",
      "additionalProperties": false
    },
    "siktedeTiltalte": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/personForetak"
      },
      "$description": "Liste av siktede (eller tiltale) personer eller foretak."
    },
    "dokumenter": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/dokument"
      },
      "minItems": 1
    },
    "saksInformasjon": {
      "$ref": "#/definitions/saksInformasjon"
    }
  },
  "required": [
    "forsendelse",
    "aktoerer",
    "siktedeTiltalte",
    "saksInformasjon",
    "dokumenter"
  ],
  "type": "object",
  "additionalProperties": false,
  "definitions": {
    "saksInformasjon": {
      "properties": {
        "saksnummer": {
          "type": "string",
          "description": "Domstolen sitt interne saksnummer"
        },
        "straffesaksnummer": {
          "$ref": "#/definitions/straffesaksnummer",
          "description": "Politiet sitt interne saksnummer"
        },
        "rettsmoeter": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/rettsmoete"
          },
          "minItems": 0,
          "description": "Dersom rettsmøte ikke avholdes, f.eks. ved kontorforrenting, skal dette bli en tom array",
          "$comment": "Trenger påtale disse? Og kan vi filtrere på møtetyper - f.eks. kun hovedforhandling"
        },
        "avgjoerelse": {
          "$ref": "#/definitions/avgjoerelse"
        }
      },
      "required": ["saksnummer", "straffesaksnummer", "avgjoerelse"],
      "type": "object",
      "additionalProperties": false
    },
    "avgjoerelse": {
      "properties": {
        "avgjoerelseId": {
          "type": "string",
          "description": "Domstolen sin id til avgjørelsen. Kan bli brukt i forbindelse med anke/forlengelse. AvgjørelseIs beholdes ved korigeringer"
        },
        "avgjoerelseIdForrigeInstans": {
          "type": "string",
          "description": "Domstolen sin id til avgjørelsen i forrige instans. Settes kun dersom dette er en dom i en ankesak"
        },
        "avsagtDato": {
          "$ref": "#/definitions/dato"
        },
        "kravid": {
          "type": "string",
          "description": "Kravid i nåværende instans. Kan være null dersom saken er opprettet manuelt"
        },
        "opprinneligKravid": {
          "type": "string",
          "description": "Kravid'en i første instans"
        },
        "domsresultatType": {
          "$ref": "#/definitions/domsresultatType"
        },
        "resultat": {
          "$ref": "#/definitions/resultat"
        },
        "reaksjoner": {
          "$ref": "#/definitions/reaksjoner"
        },
        "erklaering": {
          "$ref": "#/definitions/erklaering",
          "description": "Erklæring fra siktede og påtale"
        }
      },
      "required": [
        "avgjoerelseId",
        "avsagtDato",
        "opprinneligKravid",
        "domsresultatType",
        "resultat",
        "reaksjoner"
      ],
      "type": "object",
      "additionalProperties": false
    },
    "domsresultatType": {
      "$comment": "Er denne listen komplett? Kan denutvides med f.eks. henleggelse eller forlik f.eks?",
      "description": "ANKEN_FORKASTES og OPPHEVELSE kun relevant i ankesaker",
      "enum": ["REAKSJON", "LOESLATELSE", "ANKEN_FORKASTES", "OPPHEVELSE"],
      "type": "string"
    },
    "resultat": {
      "properties": {
        "punkt": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/punkt"
          },
          "minItems": 1
        }
      },
      "required": ["punkt"],
      "additionalProperties": false
    },
    "reaksjoner": {
      "properties": {
        "personer": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/personReaksjon"
          },
          "minItems": 1
        }
      },
      "additionalProperties": false
    },
    "personReaksjon": {
      "properties": {
        "personInternId": {
          "type": "string",
          "description": "Intern id til person. Denne skal være det samme som internId til en av peronene i 'siktede' elementet"
        },
        "reaksjoner": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/reaksjon"
          },
          "minItems": 0,
          "description": "Liste av reaksjoner for denne personen. Ved løslatelse vil denne listen være tom"
        }
      },
      "required": ["personInternId", "reaksjoner"],
      "additionalProperties": false
    },
    "reaksjon": {
      "properties": {
        "fengsel": {
          "$ref": "#/definitions/fengsel"
        },
        "forvaring": {
          "$ref": "#/definitions/forvaring"
        },
        "samfunnsstraff": {
          "$ref": "#/definitions/samfunnsstraff"
        },
        "bot": {
          "$ref": "#/definitions/bot"
        },
        "rettighetstap": {
          "$ref": "#/definitions/rettighetstap"
        },
        "foererkort": {
          "$ref": "#/definitions/foererkort"
        },
        "kontaktforbud": {
          "$ref": "#/definitions/kontaktforbud"
        },
        "psykiskHelsevern": {
          "$ref": "#/definitions/psykiskHelsevern"
        },
        "erstatning": {
          "$ref": "#/definitions/erstatning"
        },
        "inndragning": {
          "$ref": "#/definitions/inndragning"
        },
        "konfliktraad": {
          "$ref": "#/definitions/konfliktraad"
        },
        "millitaerarrest": {
          "$ref": "#/definitions/millitaerarrest"
        },
        "paataleunnlatelse": {
          "$ref": "#/definitions/paataleunnlatelse"
        },
        "tvungenOmsorg": {
          "$ref": "#/definitions/tvungenOmsorg"
        },
        "ungdomststraff": {
          "$ref": "#/definitions/ungdomststraff"
        },
        "proeveloeslatelse": {
          "$ref": "#/definitions/proeveloeslatelse"
        },
        "annet": {
          "$ref": "#/definitions/annet"
        }
      },
      "additionalProperties": false
    },

    "utmaalingsregel": {
      "$comment": "Bør har referanse til basissak(punkt) og reaksjon. Er dette det samme som vilkår i spesifkke reaksjonen??",
      "properties": {
        "lovreferanse": {
          "$ref": "#/definitions/lovbud",
          "description": "F.eks: n § 62, § 63, § 55 m.v.)"
        },
        "tekst": {
          "type": "string",
          "description": "Kortversion av lovtekst",
          "$comment": "Mulig denne ikke er mulig"
        }
      },
      "additionalProperties": false
    },

    "fengsel": {
      "properties": {
        "straff": {
          "$ref": "#/definitions/varighet",
          "description": "Lengden på fengselsstraffen"
        },
        "betinget": {
          "$ref": "#/definitions/varighet",
          "description": "Fylles kun dersom deler eller hele straffen er betinget"
        },
        "proevetid": {
          "$ref": "#/definitions/varighet"
        },
        "fradrag": {
          "$ref": "#/definitions/varighet",
          "description": "Fradrag for straffen (f.eks. tid i varetekt). Også kalt Utholdt frihetsberøvelse"
        },
        "saervilkaar": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/saervilkaar"
          },
          "minItems": 0
        }
      },
      "required": ["straff"],
      "additionalProperties": false
    },
    "betinget": {
      "comment:": "Denne tas ut og erstattes med 'fengsel'",
      "properties": {
        "subsidiaerStraff": {
          "type": "boolean",
          "default": false,
          "description": "Settes til 'true' desrom dette er et alternativ til en prinsipal reaksjon"
        },
        "straff": {
          "$ref": "#/definitions/varighet",
          "description": "Lengden betinget straff"
        },
        "fradrag": {
          "$ref": "#/definitions/varighet",
          "description": "Fradrag for betinget straff"
        },
        "proevetid": {
          "$ref": "#/definitions/varighet",
          "description": "Orøvedtid for betinget straff"
        },
        "utsattStraffeutmaaling": {
          "type": "boolean",
          "description": "Om straffeutmålingen er utsatt"
        },
        "tilknyttedePoster": {
          "$comment": "Er det på denne måten vi ønsker å tilknytte poster til en reaksjon? I så tilfelle bør den ligge på hver reaksjon",
          "type": "array",
          "items": {
            "type": "string",
            "description": "Peker til unik id som indentifiserer punktet/posten"
          },
          "minItems": 1
        }
      },
      "additionalProperties": false
    },
    "ubetinget": {
      "comment:": "Denne tas ut og erstattes med 'fengsel'",
      "properties": {
        "subsidiaerStraff": {
          "type": "boolean",
          "default": false,
          "description": "Settes til 'true' desrom dette er et alternativ til en prinsipal reaksjon"
        },
        "straff": {
          "$ref": "#/definitions/varighet",
          "description": "Lengden betinget straff"
        },
        "fradrag": {
          "$ref": "#/definitions/varighet",
          "description": "Fradrag for betinget straff"
        },
        "utsattStraffeutmaaling": {
          "type": "boolean",
          "description": "Om straffeutmålingen er utsatt",
          "$comment": "Trenger vi denne ved ubtinget fengsel"
        }
      },
      "additionalProperties": false
    },
    "forvaring": {
      "properties": {
        "tidsramme": {
          "$ref": "#/definitions/varighet",
          "description": "Tidsrammen/lengstetiden for forvaringsdommen"
        },
        "minstetid": {
          "$ref": "#/definitions/varighet",
          "description": "Minstetid for forvaringsdommen"
        },
        "fradrag": {
          "$ref": "#/definitions/varighet",
          "description": "Fradrag for straffen (f.eks. tid i varetekt). Også kalt Utholdt frihetsberøvelse"
        },
        "hjemmel": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/lovreferanse"
          },
          "minItems": 0
        }
      },
      "required": ["tidsramme"],
      "additionalProperties": false
    },
    "bot": {
      "properties": {
        "beloep": {
          "type": "integer",
          "description": "Nettobeløp i NOK",
          "$comment": "Trenger vi støtte for andre valuta??"
        },
        "proevetid": {
          "$ref": "#/definitions/varighet",
          "description": "Kan settes dersom boten er betinget"
        },
        "saervilkaar": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/saervilkaar"
          },
          "minItems": 0,
          "description": "Kan settes dersom boten er betinget"
        },
        "subsidaerFengseltraff": {
          "$ref": "#/definitions/varighet",
          "description": "Varighet på subsidiær fengselsstraff"
        }
      },
      "required": ["beloep"],
      "additionalProperties": false
    },
    "samfunnsstraff": {
      "properties": {
        "straff": {
          "$ref": "#/definitions/varighet",
          "description": "Lengden på idømt samfunnsstraff - som regel oppgitt i timer"
        },
        "subsidaerFengseltraff": {
          "$ref": "#/definitions/varighet",
          "description": "Varighet på subsidiær fengselsstraff"
        },
        "fradrag": {
          "$ref": "#/definitions/varighet",
          "description": "Fradrag for straffen (f.eks. tid i varetekt). Også kalt Utholdt frihetsberøvelse"
        },
        "vilkaar": {
          "type": "string",
          "description": "Vilkår vedrørenede gjennomføring av straffen (jf. §50)"
        }
      },
      "required": ["straff"],
      "additionalProperties": false
    },
    "ungdomststraff": {
      "properties": {
        "straff": {
          "$ref": "#/definitions/varighet",
          "description": "Lengden på idømt straff"
        },
        "subsidaerFengseltraff": {
          "$ref": "#/definitions/varighet",
          "description": "Varighet på subsidiær fengselsstraff"
        },
        "fradrag": {
          "$ref": "#/definitions/varighet",
          "description": "Fradrag for straffen (f.eks. tid i varetekt). Også kalt Utholdt frihetsberøvelse"
        }
      },
      "additionalProperties": false
    },
    "rettighetstap": {
      "properties": {
        "subsidiaerStraff": {
          "type": "boolean",
          "description": "Settes til 'true' desrom dette er et alternativ til en prinsipal reaksjon"
        },
        "hjemmel": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/lovreferanse"
          },
          "minItems": 1
        },
        "typeRettighet": {
          "type": "string",
          "$comment": "Enum? kodeverk? Trolig lite hensiktsmessig ifølge rapport. Kanskje en enum med stilling/virksomhet/aktvitet som hovedtype og fritekst som type",
          "description": "Type rettighet som fratas. Typisk en gitt stilling, virksomhet eller aktivitet."
        },
        "varighet": {
          "$ref": "#/definitions/varighet",
          "$comment": "Kan/bør vi bruke tidsrom i stedet for/tillegg til varighet"
        },
        "tekst": {
          "type": "string",
          "description": "Fritekst som beskriver rettighetstapet"
        }
      },
      "additionalProperties": false
    },
    "foererkort": {
      "$comment": "Hva med tap av rett til å føre 'ikke førerkortpliktig motorvogn', eller ting man trenger kjøreseddel ting (f.eks. buss taxi). Egen property eller en form for fritekst? Og burde vi ha med hvilken klasse?",
      "properties": {
        "subsidiaerStraff": {
          "type": "boolean",
          "description": "Settes til 'true' desrom dette er et alternativ til en prinsipal reaksjon"
        },
        "hjemmel": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/lovreferanse"
          },
          "minItems": 1
        },
        "typeNyProeve": {
          "type": "string",
          "$comment": "Kanskje en ENUM/kodeverk??",
          "description": "F.eks. 'ny(full) førerprøve' eller 'delvis (praktisk) førerprøve'"
        },
        "varighet": {
          "$ref": "#/definitions/varighet",
          "$comment": "Kan/bør vi bruke tidsrom i stedet for/tillegg til varighet"
        },
        "ubestemtTid": {
          "type": "boolean",
          "$comment": "OneOf i forhold til varighet. Eller kanskje legge det innunder varighet elementet??"
        }
      },
      "additionalProperties": false
    },
    "kontaktforbud": {
      "properties": {
        "varighet": {
          "$ref": "#/definitions/varighet",
          "$comment": "Trenger man både varighet og periode??"
        },
        "tidsrom": {
          "$ref": "#/definitions/periode"
        },
        "omvendtVoldsalarmVarighet": {
          "$ref": "#/definitions/varighet"
        },
        "omvendtVoldsalarmPeriode": {
          "$ref": "#/definitions/periode"
        },
        "kontaktType": {
          "$comment": "Enum? besøks-/kontakt-/forfølge-forbud. Multichoice"
        },
        "individ": {
          "$comment": "Kanskje finne på et bedre navn??",
          "$ref": "#/definitions/privatPerson"
        },
        "tekst": {
          "type": "string",
          "description": "Fritekst som beskriver kontaktforbudet"
        }
      },
      "additionalProperties": false
    },
    "psykiskHelsevern": {
      "properties": {
        "tekst": {
          "$comment": "Mulig vi ikke trenger denne engang. Ikke beskrevet i skisser",
          "type": "string",
          "description": "Fritekst som beskriver kontaktforbudet"
        },
        "hjemmel": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/lovreferanse"
          },
          "minItems": 1
        }
      },
      "additionalProperties": false
    },
    "barnevern": {
      "properties": {
        "hjemmel": {}
      },
      "additionalProperties": false
    },
    "erstatning": {
      "properties": {},
      "additionalProperties": false
    },
    "inndragning": {
      "properties": {},
      "additionalProperties": false
    },
    "konfliktraad": {
      "properties": {},
      "additionalProperties": false
    },
    "millitaerarrest": {
      "properties": {},
      "additionalProperties": false
    },
    "paataleunnlatelse": {
      "properties": {},
      "additionalProperties": false
    },
    "tvungenOmsorg": {
      "properties": {},
      "additionalProperties": false
    },
    "proeveloeslatelse": {
      "properties": {},
      "additionalProperties": false
    },
    "annet": {
      "$comment": "Trenger vi noe mer enn en fritekst??",
      "properties": {
        "tekst": {
          "type": "string",
          "description": "Fritekst som beskriver 'annet' reaksjonen"
        }
      },
      "additionalProperties": false
    },

    "punkt": {
      "properties": {
        "nummer": {
          "type": "string",
          "description": "Romertall I, II osv. som identifiserer punktet"
        },
        "prinsipalPunkt": {
          "$ref": "#/definitions/punktDetaljer",
          "description": "Hovedpunkt"
        },
        "subsidiaerPunkt": {
          "$ref": "#/definitions/punktDetaljer",
          "description": "Hvis ikke skyldig i prinsipal punkt så bes retten vurdere det subsidiære"
        }
      },
      "required": ["prinsipalPunkt"],
      "additionalProperties": false
    },
    "punktDetaljer": {
      "properties": {
        "lovbud": {
          "items": {
            "$ref": "#/definitions/lovbud"
          },
          "minItems": 1,
          "maxItems": 2,
          "comment": "Kan være 2 lovbud i de tilfellene lovbruddet har skjedd over en tidsperiode der loven har endret seg. Kan vurdere å kalle dette 'straffebud' i stedet kanskje??"
        },
        "grunnlag": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/grunnlag"
          },
          "minItems": 1
        }
      },
      "required": ["lovbud", "grunnlag"],
      "additionalProperties": false
    },
    "grunnlag": {
      "properties": {
        "id": {
          "$comment": "GUID eller 'relativ sti' til grunnlaget. F.eks. III.c (romertal + . + bokestav)",
          "type": "string",
          "description": "Unik id som indentifiserer grunnlaget. "
        },
        "bokstav": {
          "type": "string",
          "description": "Bokstav som identifiserer grunnlaget"
        },
        "basissaker": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/basissakSkyldig"
          },
          "minItems": 1
        },
        "grunnlagstekst": {
          "type": "string",
          "description": "Kan være den som påtale sendte, eller den kan være endret i rettsmøte"
        },
        "grunnlagstekstEndret": {
          "type": "boolean",
          "description": "Settes til true dersom det er endret i forhold til siktelse/tiltale"
        }
      },
      "required": [
        "id",
        "bokstav",
        "basissaker",
        "grunnlagstekst",
        "grunnlagstekstEndret"
      ],
      "additionalProperties": false
    },
    "basissakSkyldig": {
      "properties": {
        "personForetakInternId": {
          "type": "string",
          "description": "Intern id til person eller foretak. Denne skal være det samme som internId til en av personene i 'siktede' elementet"
        },
        "skyldig": {
          "type": "boolean",
          "description": "Om retten finner den siketede skyldig eller ikke skyldig i punktet"
        },
        "straffesaksnummer": {
          "$ref": "#/definitions/straffesaksnummer",
          "desctioption": "Politiets interne saksnummer"
        },
        "omsubsummert": {
          "$ref": "#/definitions/lovbud",
          "desctioption": "Satt kun dersom basissaken er omsubsumert i domstolen. Om satt, inneholder dette feltet verdien av det omsubsumerte lovbudet."
        }
      },
      "required": ["personForetakInternId", "skyldig", "straffesaksnummer"],
      "additionalProperties": false
    },
    "lovbud": {
      "properties": {
        "lovbudStreng": {
          "type": "string"
        }
      },
      "required": ["lovbudStreng"],
      "type": "object",
      "additionalProperties": false
    },
    "lovreferanse": {
      "type": "object",
      "description": "Eksakt referanse inn i spesifikk lov, paragraf, ledd osv.",
      "properties": {
        "rettskilde": {
          "$ref": "#/definitions/kodeverk"
        },
        "lovreferanse": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/lovreferanseElement"
          },
          "minItems": 1
        }
      },
      "required": ["rettskilde", "lovreferanse"],
      "additionalProperties": false
    },
    "lovreferanseElement": {
      "type": "object",
      "description": "Referanse til paragraf, ledd osv, type kan bli enum som er utvidbar .. PARAGRAG, LEDD, STRAFFALTERNATIV",
      "properties": {
        "type": {
          "type": "string"
        },
        "verdi": {
          "type": "string"
        }
      },
      "required": ["type", "verdi"],
      "additionalProperties": false
    },
    "erklaering": {
      "$comment": "Er erklaering i domsavgjørelser tilsvarende som varetekts-saker?",
      "properties": {
        "erklaeringSiktede": {
          "$ref": "#/definitions/erklaeringsDetaljer"
        },
        "erklaeringPaatale": {
          "$ref": "#/definitions/erklaeringsDetaljer"
        }
      },
      "required": ["erklaeringSiktede", "erklaeringPaatale"],
      "type": "object",
      "additionalProperties": false
    },
    "erklaeringsDetaljer": {
      "properties": {
        "meddeltIRettsmoete": {
          "type": "boolean",
          "description": "Settes til true desom avgjørelsen er meddelt i rettsmøtet"
        },
        "erklaert": {
          "$ref": "#/definitions/erklaertType",
          "description": "Settes dersom avgjørelsen er meddelt i retten"
        },
        "ankeDetaljer": {
          "$ref": "#/definitions/ankeDetaljer",
          "description": "Settes dersom parten har anket hele eller deler av avgjørelsen"
        }
      },
      "required": ["meddeltIRettsmoete"],
      "type": "object",
      "additionalProperties": false
    },
    "ankeDetaljer": {
      "properties": {
        "anketDato": {
          "$ref": "#/definitions/dato"
        },
        "oppsettendeVirkning": {
          "type": "boolean",
          "description": "Settes kun dersom det er påtale som anker"
        },
        "ankedeForhold": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/anketForholdType"
          },
          "minItems": 1,
          "description": "Liste over hvilke fohold som ankes"
        },
        "ankeBeskrivelse": {
          "type": "string",
          "description": "Kan brukes for å utdype hva som er anket. F.eks. dersom man velger 'ANNET' som anket forhold"
        }
      },
      "required": ["anketDato", "ankedeForhold"],
      "type": "object",
      "additionalProperties": false
    },
    "erklaertType": {
      "enum": ["VEDTATT", "ANKET", "BETENKNINGSTID"]
    },
    "anketForholdType": {
      "enum": ["REAKSON", "RESULTAT", "LOESLATELSE", "ANNET"],
      "type": "string"
    },
    "forsendelse": {
      "properties": {
        "meldingsId": {
          "type": "string"
        },
        "sendtTid": {
          "type": "string",
          "format": "date-time"
        },
        "avsender": {
          "$ref": "#/definitions/avsender"
        },
        "mottaker": {
          "$ref": "#/definitions/mottaker"
        },
        "rettelse": {
          "type": "boolean",
          "description": "Settes til true dersom det er en menneskelig endring av en tidligere kjennelse. (Dersom meldingen er resendt av tekniske årsaker vil denne stå som false)",
          "default": false
        }
      },
      "required": [
        "meldingsId",
        "avsender",
        "mottaker",
        "sendtTid",
        "rettelse"
      ],
      "type": "object",
      "additionalProperties": false
    },
    "avsender": {
      "properties": {
        "organisasjon": {
          "$ref": "#/definitions/organisasjon"
        },
        "person": {
          "description": "Person som sender meldingen. Vanligvis dommeren eller saksbehandleren",
          "$ref": "#/definitions/ansattPerson"
        },
        "rettsInstans": {
          "$ref": "#/definitions/rettsInstansType",
          "description": "Rettsinstans avjørelsen er sendt fra"
        }
      },
      "required": ["organisasjon", "rettsInstans"],
      "type": "object",
      "additionalProperties": false
    },
    "mottaker": {
      "properties": {
        "organisasjon": {
          "$ref": "#/definitions/organisasjon"
        }
      },
      "required": ["organisasjon"],
      "type": "object",
      "additionalProperties": false
    },
    "organisasjon": {
      "description": "Entydig identifikator av juridisk enhet. F.eks et spesifikt domstol embete eller politidistrikt",
      "properties": {
        "navn": {
          "type": "string",
          "description": "F.eks. Nordland politidistrikt eller Oslo tingrett."
        },
        "organisasjonsnummer": {
          "$ref": "#/definitions/organisasjonsnummer"
        }
      },
      "required": ["organisasjonsnummer"],
      "type": "object",
      "additionalProperties": false
    },
    "dokument": {
      "description": "Et dokument har en ID for at det skal kunne refereres til fra andre steder.",
      "properties": {
        "internId": {
          "description": "Referanse/journal nummer fra BL, Lovisa eller KODA/Kompis",
          "type": "string",
          "minLength": 2,
          "maxLength": 50
        },
        "forsendelse": {
          "$ref": "#/definitions/dokumentforsendelse"
        },
        "overskrift": {
          "description": "Klippe på slutten hvis det er for langt",
          "type": "string",
          "minLength": 2,
          "maxLength": 260
        },
        "skrevetDato": {
          "$ref": "#/definitions/dato"
        },
        "kategori": {
          "$ref": "#/definitions/kodeverk"
        }
      },
      "required": ["forsendelse", "overskrift", "kategori"],
      "type": "object",
      "additionalProperties": false
    },
    "dokumentforsendelse": {
      "description": "Detaljer om lokasjon og type",
      "properties": {
        "mimeType": {
          "type": "string"
        },
        "sjekksum": {
          "type": "string"
        },
        "uri": {
          "type": "string"
        }
      },
      "required": ["mimeType", "sjekksum", "uri"],
      "type": "object",
      "additionalProperties": false
    },
    "ansattPerson": {
      "description": "Type for personer som er ansatt hos påtale eller domstolen(saksbehandlere, påtaleadvokater, statsadvokater,...)",
      "properties": {
        "etternavn": {
          "type": "string"
        },
        "fornavn": {
          "type": "string"
        },
        "tittel": {
          "type": "string"
        }
      },
      "required": ["etternavn"],
      "type": "object",
      "additionalProperties": false
    },
    "personForetak": {
      "type": "object",
      "description": "En siktet kan være en person eller et foretak.",
      "properties": {
        "person": {
          "$ref": "#/definitions/privatPerson",
          "description": "Siktede har alltid identitetsnummer (fødselsnummer, dnummer eller SSP nummer)"
        },
        "foretak": {
          "$ref": "#/definitions/foretak"
        }
      },
      "oneOf": [
        {
          "properties": {
            "person": {
              "$ref": "#/definitions/privatPerson"
            }
          },
          "additionalProperties": false,
          "required": ["person"]
        },
        {
          "properties": {
            "foretak": {
              "$ref": "#/definitions/foretak"
            }
          },
          "additionalProperties": false,
          "required": ["foretak"]
        }
      ]
    },
    "privatPerson": {
      "description": "Person som har en rolle i en straffesak (siktet, mistenkt, osv) der det er krav om fødselsnummer for nordmenn. Andre identifikatorer kan være interne, DUF nummer, pass nummer ...",
      "properties": {
        "internId": {
          "type": "string",
          "description": "Intern id i melding, samme person i denne meldingen vil ha samme internId"
        },
        "etternavn": {
          "type": "string"
        },
        "fornavn": {
          "type": "string"
        },
        "identitetsnummer": {
          "$ref": "#/definitions/personIdentifikator",
          "description": "Fødselsnummer, D-nummer eller SSP nummer. Alle personer som det er foretatt tvangsmidler mot skal ha et D-nummer eller fødselsnummer. Dersom politiet ikke har et slikt nummer vil de generere ett 'SSP nummer'"
        },
        "tilleggsId": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/personIdentifikator"
          },
          "description": "Kan f.eks. være historiske SSP nummer. "
        },
        "foedselsdato": {
          "$ref": "#/definitions/dato",
          "description": "Påbudt i BL i dag, men er ikke sikkert politiet vet."
        },
        "kjoenn": {
          "$ref": "#/definitions/kjoenn"
        },
        "nasjonalitet": {
          "$ref": "#/definitions/landType",
          "description": "Nasjonalitet ikke med hvis det er ukjent."
        }
      },
      "required": ["internId", "etternavn", "identitetsnummer", "tilleggsId"],
      "type": "object",
      "additionalProperties": false
    },
    "foretak": {
      "type": "object",
      "description": "Foretak/ organisasjon som er med i en straffesak som f.eks. siktet",
      "properties": {
        "internId": {
          "type": "string",
          "description": "unik id lokalt i meldingen, samme internId er samme foretak."
        },
        "organisasjonsnummer": {
          "$ref": "#/definitions/organisasjonsnummer"
        },
        "navn": {
          "type": "string"
        }
      },
      "$comment": "Bør vi ha med 'adresse' her? (politiet har det i begjæring). Kan også vurdere å slå denne sammen med organisasjon",
      "required": ["internId", "navn"],
      "additionalProperties": false
    },
    "rettsmoete": {
      "moeteType": {
        "$ref": "#/definitions/moeteType"
      },
      "rettsmoeteTidFra": {
        "$ref": "#/definitions/datoTid"
      },
      "rettsmoeteTidTil": {
        "$ref": "#/definitions/datoTid"
      }
    },
    "varighet": {
      "description": "Definisjon på en varighet. F.eks. en betinget fengselsstraff",
      "properties": {
        "lengde": { "$ref": "#/definitions/lengde" },
        "ubestemtTid": { "type": "boolean" }
      },
      "oneOf": [
        {
          "properties": {
            "lengde": { "$ref": "#/definitions/lengde" }
          },
          "required": ["lengde"]
        },
        {
          "properties": {
            "ubestemtTid": {
              "type": "boolean",
              "$comment": "OneOf i forhold til varighet. Eller kanskje legge det innunder varighet elementet??"
            }
          },
          "required": ["ubestemtTid"]
        }
      ],
      "type": "object",
      "additionalProperties": false
    },
    "lengde": {
      "properties": {
        "antallAar": { "type": "integer" },
        "antallMaaneder": { "type": "integer" },
        "antallDager": { "type": "integer" },
        "antallTimer": { "type": "integer" }
      }
    },
    "periode": {
      "properties": {
        "TidFra": {
          "$ref": "#/definitions/datoTid"
        },
        "tidTil": {
          "$ref": "#/definitions/datoTid"
        }
      }
    },
    "landType": {
      "description": "En landkode bestaar av tre store bokstaver fra kodelisten ISO 3166-1-alpha-3. Hentes fra kodeverk nationality.xml",
      "type": "object",
      "properties": {
        "kode": {
          "type": "string",
          "pattern": "^[A-Z]+$",
          "minLength": 3,
          "maxLength": 3
        },
        "navn": {
          "type": "string"
        }
      },
      "required": ["kode"]
    },
    "rettsInstansType": {
      "enum": ["TINGRETT", "LAGMANNSRETT", "HOEYESTERETT"],
      "type": "string"
    },
    "moeteType": {
      "enum": [""],
      "type": "string"
    },
    "personIdentifikator": {
      "description": "Fødselsnummer, D-nummer eller SSP nummer.",
      "type": "object",
      "properties": {
        "foedselsnummer": {
          "$ref": "#/definitions/foedselsnummer"
        },
        "sspNummer": {
          "$ref": "#/definitions/sspNummer"
        },
        "dNummer": {
          "$ref": "#/definitions/dNummer"
        }
      },
      "oneOf": [
        {
          "properties": {
            "foedselsnummer": {
              "$ref": "#/definitions/foedselsnummer",
              "description": "Kun norsk fødselsnummer. Hvis det er et D-nummer så kommer det i eget felt."
            }
          },
          "required": ["foedselsnummer"],
          "additionalProperties": false
        },
        {
          "properties": {
            "sspNummer": {
              "$ref": "#/definitions/sspNummer"
            }
          },
          "required": ["sspNummer"],
          "additionalProperties": false
        },
        {
          "properties": {
            "dNummer": {
              "$ref": "#/definitions/dNummer"
            }
          },
          "required": ["dNummer"],
          "additionalProperties": false
        }
      ]
    },
    "saervilkaar": {
      "properties": {
        "paragraf": {
          "type": "string",
          "description": "Eks. '§37'"
        },
        "tekst": {
          "type": "string",
          "description": "Eks. Andre særvilkår'"
        },
        "detaljer": {
          "type": "string",
          "description": "Detaljer for særvilkåret. Fylles ut ved '§ 37.Andre særvilkår'"
        },
        "beskrivelse": {
          "type": "string",
          "description": "Brukerens egen beskrivelse av særvilkåret"
        }
      }
    },
    "organisasjonsnummer": {
      "type": "string",
      "description": "Norsk organisasjonsnummer fra BRREG. Referanse til politistrikt, domstol, fengsel. https://www.brreg.no/om-oss/registrene-vare/om-enhetsregisteret/organisasjonsnummeret/",
      "pattern": "^[0-9]+$",
      "minLength": 9,
      "maxLength": 9
    },
    "foedselsnummer": {
      "type": "string",
      "pattern": "^[0-3][0-9][0189][0-9]+$",
      "minLength": 11,
      "maxLength": 11
    },
    "sspNummer": {
      "type": "string",
      "pattern": "^[0-3][0-9][2-3][0-9]+$",
      "minLength": 11,
      "maxLength": 11
    },
    "dNummer": {
      "type": "string",
      "pattern": "^[4-7][0-9][0189][0-9]+$",
      "minLength": 11,
      "maxLength": 11
    },
    "kodeverk": {
      "properties": {
        "kode": {
          "type": "string"
        },
        "navn": {
          "type": "string"
        }
      },
      "type": "object",
      "required": ["kode"],
      "additionalProperties": false
    },
    "straffesaksnummer": {
      "type": "string",
      "description": "Som regel et løpenummer, men kan i fremtiden også inneholde bokstaver",
      "minLength": 3,
      "maxLength": 30
    },
    "epost": {
      "description": "Lange epostadresser.",
      "maxLength": 150,
      "minLength": 5,
      "type": "string"
    },
    "kjoenn": {
      "description": "Samme enum som folkeregisteret",
      "enum": ["KVINNE", "MANN"],
      "type": "string"
    },
    "datoTid": {
      "type": "string",
      "format": "date-time"
    },
    "dato": {
      "type": "string",
      "format": "date"
    }
  }
}
